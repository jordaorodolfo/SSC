<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>SSC Arduino: Motor.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SSC Arduino
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">The code used in the Arduino for the SSC Drill setup.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Motor.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
</div>
<p><a href="_motor_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_motor.html">Motor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae58869bb0522ba3ea1ab6b13c65ef2a9"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_motor.html">Motor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motor_8h.html#ae58869bb0522ba3ea1ab6b13c65ef2a9">Motor_t</a></td></tr>
<tr class="separator:ae58869bb0522ba3ea1ab6b13c65ef2a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac7ff026d858c887d5d40186898b21dd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_motor_8h.html#ae58869bb0522ba3ea1ab6b13c65ef2a9">Motor_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motor_8h.html#ac7ff026d858c887d5d40186898b21dd9">motorInit</a> (byte pin_rpm_, byte pin_master_enable_, long max_rpm_, long min_rpm_)</td></tr>
<tr class="separator:ac7ff026d858c887d5d40186898b21dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9156dbd3adc4b791a4abe2466a3fca43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motor_8h.html#a9156dbd3adc4b791a4abe2466a3fca43">motorSetRpm</a> (<a class="el" href="_motor_8h.html#ae58869bb0522ba3ea1ab6b13c65ef2a9">Motor_t</a> *target, long rmp)</td></tr>
<tr class="separator:a9156dbd3adc4b791a4abe2466a3fca43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f969a458553d146803feb8cd78b18ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_motor_8h.html#a3f969a458553d146803feb8cd78b18ea">motorAct</a> (<a class="el" href="_motor_8h.html#ae58869bb0522ba3ea1ab6b13c65ef2a9">Motor_t</a> *target)</td></tr>
<tr class="separator:a3f969a458553d146803feb8cd78b18ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="struct_motor.html">Motor</a> abstraction header</p>
<p>This header file contains the motor abstraction and its corresponding functions; such as acting, switching and initialization. Since the abstraction is a data structure, there is no need for private access methods; these changes are made by directly acessing the structure variables. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ae58869bb0522ba3ea1ab6b13c65ef2a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_motor.html">Motor</a>
 <a class="el" href="_motor_8h.html#ae58869bb0522ba3ea1ab6b13c65ef2a9">Motor_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pseudo-class abstraction for motors.</p>
<p>The implementation consists the usual <em>pin_rpm</em> to indicate the PWM output of the arduino, another pin to control the enable/disable state and RPM control variables.</p>
<p>The <em>max_rpm</em> and <em>min_rpm</em> variables are necessary to make the arduino corretly process and act on the desired RPM, <em>current_rpm</em>. Note that the last variable is NOT the speed reading, but the reference speed. These variables and set in the initialization and can be changed by direct acess if needed later. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3f969a458553d146803feb8cd78b18ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void motorAct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_motor_8h.html#ae58869bb0522ba3ea1ab6b13c65ef2a9">Motor_t</a> *&#160;</td>
          <td class="paramname"><em>target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="struct_motor.html">Motor</a> abstraction standard acting</p>
<p>Takes care of the enable/disable state control and automatically sets the correct voltage PWM based upon the <em>min_rpm</em> and <em>max_rpm</em> pseudo-class variables.</p>
<p>However an important assumption is made: the minimum RPM occurs at 10% of the admissable voltage apply while the maximum occurs at 90%. If that is not the case, the internal implementation needs to be changed. This is true for the ESCON 50/5 controller. </p>

</div>
</div>
<a class="anchor" id="ac7ff026d858c887d5d40186898b21dd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_motor_8h.html#ae58869bb0522ba3ea1ab6b13c65ef2a9">Motor_t</a>* motorInit </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>pin_rpm_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>pin_master_enable_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>max_rpm_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>min_rpm_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="struct_motor.html">Motor</a> abstraction initialization.</p>
<p>For initialization, control and internal calculations; along the necessary pins the maximum and minimum achievable RPMs should be supplied.</p>
<p>For example, in the SSC prototype; the motor could achieve 178 rpm CCW, hence being positive and 178 rpm CW, being then negative. This setup initialization would be the pin rpms with <em>min_rpm_=-178</em> and <em>max_rpm_=178</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pin_rpm_</td><td>Arduino PIN for the PWM output. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pin_master_enable_</td><td>Arduino PIN for the enable/disable control. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_rpm_</td><td>Maximum RPM achievable. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_rpm_</td><td>Minimum RPM achievable. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9156dbd3adc4b791a4abe2466a3fca43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void motorSetRpm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_motor_8h.html#ae58869bb0522ba3ea1ab6b13c65ef2a9">Motor_t</a> *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>rmp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd>The motor is not a class anymore. Direct change can be made and this code can be safely removed. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 12 2014 00:40:26 for SSC Arduino by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
